"use strict";(self.webpackChunk_freshgum_typedi_docs=self.webpackChunk_freshgum_typedi_docs||[]).push([[520],{7579:(e,t,i)=>{i.d(t,{z:()=>r});const r=[String,Object,Boolean,Symbol,Array,Number]},3622:(e,t,i)=>{i.d(t,{I:()=>r});const r=Symbol("EMPTY_VALUE")},5451:(e,t,i)=>{i.d(t,{G:()=>r});const r={multiple:!1,eager:!1,scope:"container",value:i(3622).I,factory:void 0}},1944:(e,t,i)=>{i.d(t,{L:()=>y,J:()=>g});class r extends Error{constructor(){super(...arguments),this.name="ContainerRegistryError"}}class s{static registerContainer(e){if(e instanceof y==!1)throw new r("Only ContainerInstance instances can be registered.");if(s.containerMap.has(e.id))throw new r("Cannot register container with same ID.");s.containerMap.set(e.id,e)}static hasContainer(e){return s.containerMap.has(e)}static getContainer(e){const t=this.containerMap.get(e);if(void 0===t)throw new r("No container is registered with the given ID.");return t}static async removeContainer(e){const t=s.containerMap.get(e.id);if(void 0===t)throw new r("No container is registered with the given ID.");s.containerMap.delete(e.id),await t.dispose()}}s.containerMap=new Map;var n=i(5146);class a extends Error{get message(){return`Service with "${this.normalizedIdentifier}" identifier was not found in the container. Register it before usage via explicitly calling the "Container.set" function or using the "@Service()" decorator.`}constructor(e){super(),this.name="ServiceNotFoundError",this.normalizedIdentifier="<UNKNOWN_IDENTIFIER>","string"==typeof e?this.normalizedIdentifier=e:e instanceof n.W?this.normalizedIdentifier=`Token<${e.name||"UNSET_NAME"}>`:e&&(e.name||e.prototype?.name)&&(this.normalizedIdentifier=`MaybeConstructable<${e.name??e.prototype?.name}>`)}}var o=i(2577),l=i(3622),c=i(7579),d=i(9696),h=i(5451),u=i(54);const p=new n.W("Host Container");class f{constructor(){this.disposed=!1,this.visitors=[],this.anyVisitorsPresent=!1}get notifyVisitors(){return!this.disposed&&this.anyVisitorsPresent}forEach(e){this.notifyVisitors&&this.visitors.forEach((t=>{t.disposed?this.removeVisitor(t):e(t)}))}visitChildContainer(e){this.forEach((t=>t.visitChildContainer?.(e)))}visitOrphanedContainer(e){this.forEach((t=>t.visitOrphanedContainer?.(e)))}visitNewService(e){this.forEach((t=>t.visitNewService?.(e)))}visitRetrieval(e,t){this.forEach((i=>i.visitRetrieval?.(e,t)))}addVisitor(e,t){if(this.visitors.includes(e))return!1;"visitOrphanedContainer"in e&&t!==g&&f.forwardOrphanedContainerEvents(e),this.visitors.push(e),this.anyVisitorsPresent||(this.anyVisitorsPresent=!0);const i=e.visitContainer?.(t);return!!i||(this.removeVisitor(e),!1)}removeVisitor(e){const t=this.visitors.indexOf(e);return-1!==t&&(this.visitors.splice(t,1),0===this.visitors.length&&(this.anyVisitorsPresent=!1),!0)}static forwardOrphanedContainerEvents(e){const t={get disposed(){return e.disposed},dispose(){this.disposed=!0},visitOrphanedContainer(t){this.disposed||e.visitOrphanedContainer?.(t)},visitContainer:e=>e===g};return g.acceptTreeVisitor(t)}dispose(){this.disposed||(this.disposed=!0,this.forEach((e=>e.dispose())))}}const v="throwIfDisposed",m=[p];class y{constructor(e,t){this.parent=t,this.metadataMap=new Map,this.multiServiceIds=new Map,this.disposed=!1,this.visitor=new f,this.isRetrievingPrivateToken=!1,this.id=e}has(e,t=!0){if(this[v](),m.includes(e))return!0;const i=this.getIdentifierLocation(e);return!(!t||1!==i)||0===i}getIdentifierLocation(e){return this[v](),this.metadataMap.has(e)||this.multiServiceIds.has(e)?0:this.parent&&this.parent.has(e,!0)?1:2}get(e,t){const i=this.getOrDefault(e,l.I,t);if(i===l.I)throw new a(e);return i}resolveMetadata(e,t){this[v]();const i=this.getIdentifierLocation(e);switch(i){case 2:return null;case 0:return[this.metadataMap.get(e),i];case 1:if(t){const t=this.parent?.resolveMetadata(e,!0);return t?[t[0],1]:null}return null}}getOrNull(e,t=!0){return this.getOrDefault(e,null,t)}getOrDefault(e,t,i=!0){this[v]();const r=!this.isRetrievingPrivateToken,s={recursive:i,many:!1};if(e===p)return r&&this.visitor.visitRetrieval(e,{...s,location:0}),this;const n=this.resolveMetadata(e,i);if(null===n)return r&&this.visitor.visitRetrieval(e,{...s,location:2}),t;const[a,o]=n;if(1===o){if("singleton"===a.scope)return g.getOrDefault(e,t,i);let r;r=null!=a.factory||null!=a.type?l.I:a.value;const n={...a,value:r},o=this.set(n,[...a.dependencies]);this.isRetrievingPrivateToken=!0;const c=this.getOrDefault(o,t,i);return this.isRetrievingPrivateToken=!1,this.visitor.visitRetrieval(e,{...s,location:1}),c}r&&this.visitor.visitRetrieval(e,{...s,location:o});let c=a;if("singleton"===a?.scope&&(c=g.metadataMap.get(e)),c&&!0===c.multiple)throw Error(`Cannot resolve multiple values for ${e.toString()} service!`);return c?this.getServiceValue(c):t}getMany(e,t){const i=this.getManyOrDefault(e,l.I,t);if(i===l.I)throw new a(e);return i}getManyOrNull(e,t=!0){return this.getManyOrDefault(e,null,t)}getManyOrDefault(e,t,i=!0){let r;this[v]();let s=2;if(this.multiServiceIds.has(e)?(r=this.multiServiceIds.get(e),r&&(s=0)):i&&this.parent&&this.parent.multiServiceIds.has(e)&&(r=this.parent.multiServiceIds.get(e),s=1),this.visitor.visitRetrieval(e,{recursive:i,many:!0,location:s}),!r)return t;const n="singleton"===r.scope?g:this;n.isRetrievingPrivateToken=!0;const a=r.tokens.map((e=>n.get(e,n===g?void 0:i)));return n.isRetrievingPrivateToken=!1,a}set(e,t){if(this.throwIfDisposed(),m.includes(e.id))throw Error("Virtual identifiers can not be overridden.");if("singleton"===e.scope&&g!==this)return g.set(e,t);const i=t??e?.dependencies?.map(((t,i)=>(0,u.B)(t,e,i)))??[],r={id:e.id??e.type,type:null,...h.G,...e,dependencies:i};if(this.visitor.visitNewService(r),r.multiple){const e=new n.W(`MultiMaskToken-${r.id.toString()}`),t=this.multiServiceIds.get(r.id);t?t.tokens.push(e):this.multiServiceIds.set(r.id,{scope:r.scope,tokens:[e]}),r.id=e,r.multiple=!1}return this.metadataMap.set(r.id,r),r.eager&&"transient"!==r.scope&&this.get(r.id),r.id}setValue(e,t){if("string"!=typeof e&&!(e instanceof n.W))throw Error("The ID passed to setValue must either be a string or a Token.");return this.set({id:e,value:t},[])}remove(e){if(this[v](),Array.isArray(e))e.forEach((e=>this.remove(e)));else{const t=this.metadataMap.get(e);t&&(this.disposeServiceInstance(t),this.metadataMap.delete(e))}return this}static of(e="default",t=g,i){if("default"===e)return g;let r;const n=i?.conflictDefinition??"rejectAll",a=i?.onConflict??(i?.conflictDefinition?"throw":"returnExisting"),o=i?.onFree??"returnNew";if(s.hasContainer(e)){r=s.getContainer(e);if(!("allowSameParent"===n&&r.parent===t)){if("null"===a)return null;if("throw"===a)throw Error(`A container with the specified name ("${String(e)}") already exists.`)}}else{if("null"===o)return null;if("throw"===o)throw Error(`A container with the specified name ("${String(e)}) does not already exist.`);r=new y(e,t??void 0),null===t&&g.visitor.visitOrphanedContainer(r),s.registerContainer(r)}return r}of(e,t){return y.of(e,g,t)}ofChild(e,t){this[v]();const i=y.of(e,this,t);return i&&this.visitor.visitChildContainer(i),i}reset(e={strategy:"resetValue"}){switch(this[v](),e.strategy){case"resetValue":this.metadataMap.forEach((e=>this.disposeServiceInstance(e)));break;case"resetServices":this.metadataMap.forEach((e=>this.disposeServiceInstance(e))),this.metadataMap.clear(),this.multiServiceIds.clear();break;default:throw Error("Received invalid reset strategy.")}return this}async dispose(){this[v](),this.reset({strategy:"resetServices"}),this.disposed=!0,this.visitor.dispose()}throwIfDisposed(){if(this.disposed)throw Error("Cannot use container after it has been disposed.")}getServiceValue(e){let t=l.I;const{factory:i}=e;if(e.value!==l.I)return e.value;if(!i&&!e.type)throw new o.Z(e.id);if(i){const r=e.dependencies.map((e=>({id:this.resolveTypeWrapper(e.typeWrapper),constraints:e.constraints})));if(Array.isArray(i)){const[s,n]=i;t=(this.getOrNull(s)??new s)[n](this,e.id,r)}else t=i(this,e.id,r)}if(!i&&e.type){t=new(0,e.type)(...this.getConstructorParameters(e,!0))}if("transient"!==e.scope&&t!==l.I&&(e.value=t),t===l.I)throw new o.Z(e.id);return t}getConstructorParameters({dependencies:e},t){return e.map((e=>this.resolveResolvable(e,t)))}resolveResolvable(e,t){const i=this.resolveTypeWrapper(e.typeWrapper);if(c.z.includes(i)){if(t)throw new d.m(i.name);return i}if(e.constraints){const{constraints:t}=e;let r;const s=2&t,n=4&t,o=8&t,l=1&t;if(n&&o)throw Error("SkipSelf() and Self() cannot be used at the same time.");if(n&&!this.parent)throw Error("The SkipSelf() flag was enabled, but the subject container does not have a parent.");const c=n?this.parent:this,d=!o??void 0;if(!c.has(i,d)){if(s)return null;throw new a(i)}return r=l?c.getMany(i,d):c.get(i,d),r}return this.get(i)}resolveTypeWrapper(e){const t=e.eagerType??e.lazyType?.();if(null==t)throw Error("The wrapped value could not be resolved.");return t}disposeServiceInstance(e,t=!1){this[v]();if(t||!!e.type||!!e.factory){if("function"==typeof(e?.value).dispose)try{e.value.dispose()}catch(i){}e.value=l.I}}acceptTreeVisitor(e){return this.visitor.addVisitor(e,this)}detachTreeVisitor(e){return this.visitor.removeVisitor(e)}[Symbol.iterator](){return this.metadataMap.entries()}}y.defaultContainer=new y("default");const{defaultContainer:g}=y;s.registerContainer(g)},1238:(e,t,i)=>{i.d(t,{t:()=>o});var r=i(1944),s=i(3559),n=i(5451),a=i(54);function o(e,t){return i=>{if(null==e||null==i)throw Error("The required configuration was not passed.");let o;if(Array.isArray(e)?o=e:Array.isArray(t)?o=t:"dependencies"in e&&(o=e.dependencies),!o)throw Error("The dependencies provided were not able to be resolved.");let l={id:i,type:i,...n.G,container:r.L.defaultContainer};Array.isArray(e)||(l={...l,...e});const c=o.map(((e,t)=>(0,a.B)(e,l,t))),{id:d,container:h}=l;if(h.has(d)&&!l.multiple)throw Error(`@Service() has been called twice upon ${(0,s.H)(i)}, or you have used an ID twice.`);h.set(l,c)}}},9696:(e,t,i)=>{i.d(t,{m:()=>s});var r=i(2577);class s extends r.Z{get message(){return super.message+" If your service requires built-in or unresolvable types, please use a factory."}}},2577:(e,t,i)=>{i.d(t,{Z:()=>s});var r=i(5146);class s extends Error{get message(){return`Cannot instantiate the requested value for the "${this.normalizedIdentifier}" identifier. The related metadata doesn't contain a factory or a type to instantiate.`}constructor(e){super(),this.name="CannotInstantiateValueError",this.normalizedIdentifier="<UNKNOWN_IDENTIFIER>","string"==typeof e?this.normalizedIdentifier=e:e instanceof r.W?this.normalizedIdentifier=`Token<${e.name||"UNSET_NAME"}>`:e&&(e.name||e.prototype?.name)&&(this.normalizedIdentifier=`MaybeConstructable<${e.name??e.prototype.name}>`)}}},7010:(e,t,i)=>{function r(){return 2}i.d(t,{Fi:()=>r})},5146:(e,t,i)=>{i.d(t,{W:()=>r});class r{constructor(e){this.name=e}}},3559:(e,t,i)=>{function r(e){return String(e.name||e)}i.d(t,{H:()=>r})},54:(e,t,i)=>{i.d(t,{B:()=>h});var r=i(7579),s=i(9696),n=i(2577),a=i(3559),o=i(5146);const l=Symbol("LAZY_REFERENCE"),c=Symbol("INJECTED_FACTORY");function d(e){let t;return e&&("string"==typeof e||e instanceof o.W||"function"==typeof e)?t={eagerType:e,lazyType:()=>e,isFactory:!1}:"object"==typeof e&&!0===e[c]?t={eagerType:null,factory:e,isFactory:!0}:e&&function(e){return!0===e[l]}(e)&&(t={eagerType:null,lazyType:()=>e.get(),isFactory:!1}),t}function h(e,t,i){let o,l;if(Array.isArray(e)){const[t,i]=e;if(null==t||null==i)throw Error("The dependency pair was not instantiated correctly.");"number"==typeof i&&(o=i),l=d(t)}else l=d(e);const{eagerType:c}=l;if(null!==c){const e=typeof l;if("function"!==e&&"object"!==e&&"string"!==e)throw new n.Z(`The identifier provided at index ${i} for service ${(0,a.H)(t.type)} is invalid.`);if(null==t.factory&&r.z.includes(c))throw new s.m(c?.name??c)}return{constraints:o,typeWrapper:l}}},8450:(e,t,i)=>{i.d(t,{Z:()=>f});var r=i(1966),s=i(9496),n=i(5924),a=i(306),o=i(4969);const l={details:"details_YVtT",isBrowser:"isBrowser_B1Ku",collapsibleContent:"collapsibleContent_mCB7"};function c(e){return!!e&&("SUMMARY"===e.tagName||c(e.parentElement))}function d(e,t){return!!e&&(e===t||d(e.parentElement,t))}function h(e){let{summary:t,children:i,...h}=e;const u=(0,a.Z)(),p=(0,s.useRef)(null),{collapsed:f,setCollapsed:v}=(0,o.u)({initialState:!h.open}),[m,y]=(0,s.useState)(h.open),g=s.isValidElement(t)?t:s.createElement("summary",null,t??"Details");return s.createElement("details",(0,r.Z)({},h,{ref:p,open:m,"data-collapsed":f,className:(0,n.Z)(l.details,u&&l.isBrowser,h.className),onMouseDown:e=>{c(e.target)&&e.detail>1&&e.preventDefault()},onClick:e=>{e.stopPropagation();const t=e.target;c(t)&&d(t,p.current)&&(e.preventDefault(),f?(v(!1),y(!0)):v(!0))}}),g,s.createElement(o.z,{lazy:!1,collapsed:f,disableSSRStyle:!0,onCollapseTransitionEnd:e=>{v(e),y(!e)}},s.createElement("div",{className:l.collapsibleContent},i)))}const u={details:"details_x2f9"},p="alert alert--info";function f(e){let{...t}=e;return s.createElement(h,(0,r.Z)({},t,{className:(0,n.Z)(p,u.details,t.className)}))}}}]);